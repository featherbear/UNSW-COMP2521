<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Lab 7 - Quick Sort Detective - COMP2521 Summer Fun</title><meta name=renderer content=webkit><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content=no-transform><meta http-equiv=cache-control content=no-siteapp><meta name=theme-color content=#f8f5ec><meta name=msapplication-navbutton-color content=#f8f5ec><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#f8f5ec><meta name=author content=z5206677><meta name=description content=Resources:><meta name=keywords content=Hugo,theme,even><meta name=generator content="Hugo 0.52 with even 4.0.0"><link rel=canonical href=../../post/lab07/><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../manifest.json><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><link href=../../dist/even.93844dae.min.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property=og:title content="Lab 7 - Quick Sort Detective"><meta property=og:description content=Resources:><meta property=og:type content=article><meta property=og:url content=/post/lab07/><meta property=article:published_time content=2019-01-28T19:56:24&#43;11:00><meta property=article:modified_time content=2019-01-28T19:56:24&#43;11:00><meta itemprop=name content="Lab 7 - Quick Sort Detective"><meta itemprop=description content=Resources:><meta itemprop=datePublished content=2019-01-28T19:56:24&#43;11:00><meta itemprop=dateModified content=2019-01-28T19:56:24&#43;11:00><meta itemprop=wordCount content=1322><meta itemprop=keywords content><meta name=twitter:card content=summary><meta name=twitter:title content="Lab 7 - Quick Sort Detective"><meta name=twitter:description content=Resources:><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=../../ class=logo>COMP2521 Musings</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=../../><li class=mobile-menu-item>Home</li></a><a href=https://github.com/featherbear/UNSW-COMP2521><li class=mobile-menu-item>GitHub</li></a><a href=../../categories/><li class=mobile-menu-item>Categories</li></a><a href=../../almanac.html><li class=mobile-menu-item>Algos</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=../../ class=logo>COMP2521 Musings</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=../../>Home</a></li><li class=menu-item><a class=menu-item-link href=https://github.com/featherbear/UNSW-COMP2521>GitHub</a></li><li class=menu-item><a class=menu-item-link href=../../categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=../../almanac.html>Algos</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Lab 7 - Quick Sort Detective</h1><div class=post-meta><span class=post-time>2019-01-28</span><div class=post-category><a href=../../categories/tutorial-/-labs/>Tutorial / Labs</a></div></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#scripts>Scripts</a><ul><li><a href=#rng>RNG</a></li><li><a href=#more-rng>More RNG</a></li></ul></li><li><a href=#data>Data</a></li><li><a href=#analysis>Analysis</a><ul><li><a href=#naive-pivot>Naive Pivot</a></li><li><a href=#median-of-three-pivot>Median of Three Pivot</a></li><li><a href=#random-pivot>Random Pivot</a></li></ul></li><li><a href=#gotta-go-faster>Gotta go faster!</a><ul><li><a href=#in-place-insertion-sort>In-place Insertion Sort</a></li><li><a href=#deferred-insertion-sort>Deferred Insertion Sort</a></li></ul></li><li><a href=#appendix>Appendix</a></li></ul></nav></div></div><div class=post-content><blockquote><p><strong>Resources:</strong><br>- <a href=https://github.com/featherbear/UNSW-COMP2521/tree/gh-pages/Labs/lab07>GitHub</a> (Sort code, data.py)<br>- <a href=Timings.xlsx>Timing Data</a><br>- <a href=https://github.com/featherbear/UNSW-COMP2521/tree/gh-pages/blog/__hugo/static/post/lab07>Raw Timing Data</a> (CSV files)</p></blockquote><h1 id=overview>Overview</h1><ul><li>Pick a <strong>pivot</strong> element.</li><li><strong>Partition</strong> the array into 3 parts:<ul><li>First part: all elements in this part is less than the pivot.</li><li>Second part: the pivot itself (only one element!)</li><li>Third part: all elements in this part is greater than or equal to the pivot.</li></ul></li><li>Then, apply the quicksort algorithm to the first and the third part. (recursively)<br><a href=http://me.dt.in.th/page/Quicksort/>Source: me.dt.in.th</a></li></ul><h1 id=scripts>Scripts</h1><p>In analysing an algorithm&rsquo;s performance, we should always consider the average case.<br>For sorting, this would mean a randomised array of values.</p><p>Since I was conducting my tests on a non-CSE computer, I can&rsquo;t use the <a href=../lab06/#gen><code>./gen</code> program provided in lab06</a> <em>(I mean it&rsquo;s not like I used it last time either)</em>.</p><h2 id=rng>RNG</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>python3 -c <span class=s1>&#39;from random import shuffle; (lambda s: [print(s), [print(i) for i in (lambda a: shuffle(a) or a)(list(range(s)))]])(100000)&#39;</span></code></pre></td></tr></table></div></div><p>Have I told you I love my one-liner scripts :)</p><p>You can&rsquo;t do multiline statements in lambda functions, nor can you use the semicolon to separate statements&hellip; Instead we can execute multiple functions by putting them in an array.</p><h2 id=more-rng>More RNG</h2><p>Or I could repurpose my <a href=../lab06/#lots-of-data-apos-lazily-apos>sort detective helper script</a>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code class=language-python3 data-lang=python3><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-python3 data-lang=python3><span class=ch>#!/bin/python3</span>
<span class=kn>import</span> <span class=nn>sys</span>

<span class=kn>import</span> <span class=nn>subprocess</span>
<span class=kn>from</span> <span class=nn>random</span> <span class=k>import</span> <span class=n>shuffle</span>

<span class=c1># Returns the mean of a list of items (to 3 decimal places)</span>
<span class=k>def</span> <span class=nf>average</span><span class=p>(</span><span class=n>items</span><span class=p>):</span>
    <span class=nb>sum</span> <span class=o>=</span> <span class=mi>0</span>
    <span class=k>for</span> <span class=n>item</span> <span class=ow>in</span> <span class=n>items</span><span class=p>:</span>
        <span class=nb>sum</span> <span class=o>+=</span> <span class=n>item</span>
    <span class=k>return</span> <span class=nb>round</span><span class=p>(</span><span class=nb>sum</span> <span class=o>/</span> <span class=nb>len</span><span class=p>(</span><span class=n>items</span><span class=p>),</span> <span class=mi>3</span><span class=p>)</span>

<span class=n>n</span> <span class=o>=</span> <span class=mi>100</span>
<span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>n</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;,&#34;</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=n>sys</span><span class=o>.</span><span class=n>stderr</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34; &#34;</span><span class=p>)</span>

    <span class=n>nums</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=nb>range</span><span class=p>(</span><span class=n>n</span><span class=p>))</span>                              <span class=c1># Ascending</span>
    <span class=k>if</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;D&#34;</span><span class=p>:</span> <span class=n>nums</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[::</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>           <span class=c1># Descending</span>

    <span class=n>times</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>for</span> <span class=n>x</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>10</span><span class=p>):</span>
        
        <span class=c1># Fixed from last time, where the shuffled order was always the same!</span>
        <span class=k>if</span> <span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>==</span> <span class=s2>&#34;R&#34;</span><span class=p>:</span> <span class=n>shuffle</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span>           <span class=c1># Random</span>
        <span class=n>string</span> <span class=o>=</span> <span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=p>[</span><span class=n>n</span><span class=p>]</span> <span class=o>+</span> <span class=n>nums</span><span class=p>))</span><span class=o>.</span><span class=n>encode</span><span class=p>()</span>
        
        <span class=k>with</span> <span class=n>subprocess</span><span class=o>.</span><span class=n>Popen</span><span class=p>([</span><span class=s2>&#34;/usr/bin/time&#34;</span><span class=p>,</span> <span class=s2>&#34;-f%U&#34;</span><span class=p>,</span> <span class=s2>&#34;./quicksort&#34;</span><span class=p>,</span> <span class=s2>&#34;-p&lt;INSERTYOURMODEFLAGHERE&gt;&#34;</span><span class=p>,</span> <span class=s2>&#34;-q&#34;</span><span class=p>],</span> <span class=n>stdin</span><span class=o>=</span><span class=n>subprocess</span><span class=o>.</span><span class=n>PIPE</span><span class=p>,</span> <span class=n>stdout</span><span class=o>=</span><span class=n>subprocess</span><span class=o>.</span><span class=n>PIPE</span><span class=p>,</span> <span class=n>stderr</span><span class=o>=</span><span class=n>subprocess</span><span class=o>.</span><span class=n>PIPE</span><span class=p>)</span> <span class=k>as</span> <span class=n>process</span><span class=p>:</span>
            <span class=n>comm</span> <span class=o>=</span> <span class=n>process</span><span class=o>.</span><span class=n>communicate</span><span class=p>(</span><span class=n>string</span><span class=p>)</span>
            <span class=n>times</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>float</span><span class=p>(</span><span class=n>comm</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>.</span><span class=n>decode</span><span class=p>()</span><span class=o>.</span><span class=n>strip</span><span class=p>()))</span>

    <span class=n>avg</span> <span class=o>=</span> <span class=n>average</span><span class=p>(</span><span class=n>times</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>n</span><span class=p>)</span> <span class=o>+</span> <span class=s2>&#34;,&#34;</span><span class=p>,</span> <span class=n>avg</span><span class=p>)</span>
    <span class=nb>print</span><span class=p>(</span><span class=n>avg</span><span class=p>,</span> <span class=n>file</span><span class=o>=</span><span class=n>sys</span><span class=o>.</span><span class=n>stderr</span><span class=p>)</span>

    <span class=k>if</span> <span class=n>avg</span> <span class=o>&gt;</span> <span class=mf>1.0</span><span class=p>:</span> <span class=k>break</span>
    <span class=k>if</span> <span class=n>n</span> <span class=o>==</span> <span class=mi>500000</span><span class=p>:</span> <span class=k>break</span>

    <span class=k>if</span> <span class=n>n</span> <span class=o>&lt;</span> <span class=mi>10000</span><span class=p>:</span> <span class=n>n</span> <span class=o>+=</span> <span class=mi>100</span>
    <span class=k>else</span><span class=p>:</span> <span class=n>n</span> <span class=o>+=</span> <span class=mi>2000</span></code></pre></td></tr></table></div></div><p>This script will generate the timings for lots of numbers (<em>0-10000 in increments of 100, then 10000-500000 in increments of 2000</em>), and also take the average time over 10 sorts.</p><h1 id=data>Data</h1><p><a href=Timings.xlsx><img src=dataSnippet.png alt></a><br><a href=Timings.xlsx>Download Timings</a></p><h1 id=analysis>Analysis</h1><p><img src=Snipaste_2019-01-28_20-02-34.png alt>
<strong><em>Note: The x-axis increases by increments of 100, and then increments of 2000 after 10000 items</em></strong><br>&nbsp;</p><p>This graph was made from the timings of a randomised array from each of the sort methods.</p><p>The graph above suggests that all three sorts perform very similarly.</p><p>In the data set, the <span style=color:#4169e1>random</span> method was more performant than that of the <span style=color:red>naive</span> and <span style=color:#228b22>median</span> method.</p><p>This could be as a result of the <span style=color:red>naive</span> and <span style=color:#228b22>median</span> methods requiring more operations <em>(nature of a <span style=color:red>naive</span> sort, and to compare and switch values for a <span style=color:#228b22>median</span> sort)</em></p><p>The timings for the <span style=color:#228b22>median</span> method were (surprisingly) more inconsistent, than the <span style=color:red>naive</span> sort, evident in the visible timing spikes</p><p>For a dataset of about 364,000 items, both the <span style=color:red>naive</span> and <span style=color:#228b22>median</span> sort methods spiked up in sort times</p><p><em>// Aside: It would have been better to perform the same tests with the same randomised numbers</em></p><h2 id=naive-pivot>Naive Pivot</h2><p><img src=Snipaste_2019-01-28_19-55-08.png alt><br><strong><em>Note: The x-axis increases by increments of 100, and then increments of 2000 after 10000 items</em></strong><br>&nbsp;</p><p>This algorithm uses the left/right-most value of an array as the pivot index.<br>It is naive as there is no thought given into which value to pick as the pivot.</p><p>This algorithm reaches its worst-case time complexity when sorting an already sorted array.</p><h2 id=median-of-three-pivot>Median of Three Pivot</h2><p><img src=Snipaste_2019-01-28_19-55-41.png alt><br><strong><em>Note: The x-axis increases by increments of 100, and then increments of 2000 after 10000 items</em></strong><br>&nbsp;</p><p>The median of three pivot algorithm compares the first, middle and last values of an array, and uses the median value as the pivot index - whilst also sorting the three values (lo, mi, hi) in place. This poses the advantage of the sort always pivoting around a value where there are most likely lesser and greater values.</p><p>Sorting a randomised array of numbers takes (expectedly) more time than an already sorted ascending array.</p><p>The performance of a median sort on descending items is interesting - as in my head it should perform similar to a randomised array.<br>Overall the median method has a better overall sort performance than the naive sort, which bottlenecks for an (as/des)cending array.</p><h2 id=random-pivot>Random Pivot</h2><p><img src=Snipaste_2019-01-28_19-56-05.png alt><br><strong><em>Note: The x-axis increases by increments of 100, and then increments of 2000 after 10000 items</em></strong><br>&nbsp;</p><p>Albeit not knowing the nature of the values in an array, the random pivot method generates the best average case operation.<br>This algorithm selects a random value in an array as the pivot index.<br>It can sort an array of 500,000 random values in roughly <code>0.11s</code> (on my laptop at least).</p><p>For a quick sort on an (as/des)cending array of numbers), the random pivot sort takes slightly longer than a median method - which is to be expected as there is no thought given into picking a pivot, hence on average more partitions will be performed.<br>Like the median sort, the random pivot sort is faster than the naive sort</p><h1 id=gotta-go-faster>Gotta go faster!</h1><p>By implementing a different sorting algorithim within another algorithm, for instance an Insertion Sort within the Quick Sort - we can optimise the performance of our sort. Such is because an Insertion Sort may perform fewer comparisons, swaps and recursions (for a small number of values).</p><p>To later compare&hellip; for a randomised array of 1,000,000 values, it takes an unoptimised/non-hybrid Quick Sort an average of <code>0.206s</code> to sort.</p><h2 id=in-place-insertion-sort>In-place Insertion Sort</h2><p>If a partition is smaller than a threshold <code>M</code>, then an Insertion Sort may be performed instead of the Quick Sort for that partition.</p><blockquote><p>&ldquo;switch to insertion sort for partitions smaller than the threshold M&rdquo;</p></blockquote><p><em>For a randomised array of 1,000,000 values&hellip;</em><br><code>values -&gt; /usr/bin/time --format=&quot;%U&quot; ./quicksort -pr -q -sa&lt;THRESHOLD&gt;</code></p><table><thead><tr><th align=center>Threshold (M)</th><th align=center>Avg</th><th align=center>1</th><th align=center>2</th><th align=center>3</th><th align=center>4</th><th align=center>5</th></tr></thead><tbody><tr><td align=center>0</td><td align=center>0.208</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.20</td><td align=center>0.21</td><td align=center>0.21</td></tr><tr><td align=center>1</td><td align=center>0.210</td><td align=center>0.20</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.22</td></tr><tr><td align=center>2</td><td align=center>0.208</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.20</td><td align=center>0.21</td></tr><tr><td align=center>3</td><td align=center>0.208</td><td align=center>0.22</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.21</td><td align=center>0.21</td></tr><tr><td align=center>4</td><td align=center>0.200</td><td align=center>0.20</td><td align=center>0.19</td><td align=center>0.19</td><td align=center>0.20</td><td align=center>0.22</td></tr><tr><td align=center>5</td><td align=center>0.202</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.21</td></tr><tr><td align=center>6</td><td align=center>0.200</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td></tr><tr><td align=center>7</td><td align=center>0.198</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.19</td><td align=center>0.20</td></tr><tr><td align=center>8</td><td align=center>0.192</td><td align=center>0.19</td><td align=center>0.19</td><td align=center>0.19</td><td align=center>0.19</td><td align=center>0.20</td></tr><tr><td align=center><strong>9</strong></td><td align=center><strong>0.184</strong></td><td align=center><strong>0.18</strong></td><td align=center><strong>0.18</strong></td><td align=center><strong>0.18</strong></td><td align=center><strong>0.19</strong></td><td align=center><strong>0.19</strong></td></tr><tr><td align=center>10</td><td align=center>0.196</td><td align=center>0.20</td><td align=center>0.19</td><td align=center>0.19</td><td align=center>0.20</td><td align=center>0.19</td></tr><tr><td align=center>100</td><td align=center>0.196</td><td align=center>0.20</td><td align=center>0.19</td><td align=center>0.20</td><td align=center>0.19</td><td align=center>0.20</td></tr><tr><td align=center>1000</td><td align=center>0.442</td><td align=center>0.46</td><td align=center>0.45</td><td align=center>0.43</td><td align=center>0.44</td><td align=center>0.43</td></tr><tr><td align=center>10000</td><td align=center>3.208</td><td align=center>3.38</td><td align=center>3.27</td><td align=center>3.16</td><td align=center>3.06</td><td align=center>3.17</td></tr></tbody></table><p>This optimisation (threshold <code>M=9</code>) shaves off <code>0.206 - 0.184 = 0.022s</code> of execution time.</p><h2 id=deferred-insertion-sort>Deferred Insertion Sort</h2><p>Another way to reduce the number of insertion sorts performed is to do just one Insertion Sort at the end of all Quick Sort operations.</p><blockquote><p>&ldquo;do not sort partitions smaller than the threshold M; leave them unsorted, and do an insertion sort at the end&rdquo;</p></blockquote><p><em>For a randomised array of 1,000,000 values&hellip;</em><br><code>values -&gt; /usr/bin/time --format=&quot;%U&quot; ./quicksort -pr -q -sb&lt;THRESHOLD&gt;</code></p><table><thead><tr><th align=center>Threshold (M)</th><th align=center>Avg</th><th align=center>1</th><th align=center>2</th><th align=center>3</th><th align=center>4</th><th align=center>5</th></tr></thead><tbody><tr><td align=center>0</td><td align=center>0.206</td><td align=center>0.20</td><td align=center>0.21</td><td align=center>0.20</td><td align=center>0.21</td><td align=center>0.21</td></tr><tr><td align=center>1</td><td align=center>0.208</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.20</td><td align=center>0.21</td></tr><tr><td align=center>2</td><td align=center>0.206</td><td align=center>0.20</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.20</td></tr><tr><td align=center>3</td><td align=center>0.206</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.21</td><td align=center>0.19</td><td align=center>0.21</td></tr><tr><td align=center>4</td><td align=center>0.204</td><td align=center>0.21</td><td align=center>0.19</td><td align=center>0.20</td><td align=center>0.21</td><td align=center>0.21</td></tr><tr><td align=center>5</td><td align=center>0.198</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.19</td><td align=center>0.20</td></tr><tr><td align=center>6</td><td align=center>0.194</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.19</td><td align=center>0.19</td><td align=center>0.19</td></tr><tr><td align=center>7</td><td align=center>0.198</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.19</td></tr><tr><td align=center>8</td><td align=center>0.200</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td></tr><tr><td align=center>9</td><td align=center>0.198</td><td align=center>0.20</td><td align=center>0.19</td><td align=center>0.20</td><td align=center>0.20</td><td align=center>0.20</td></tr><tr><td align=center>10</td><td align=center>0.188</td><td align=center>0.19</td><td align=center>0.19</td><td align=center>0.18</td><td align=center>0.19</td><td align=center>0.19</td></tr><tr><td align=center><strong>100</strong></td><td align=center><strong>0.186</strong></td><td align=center><strong>0.19</strong></td><td align=center><strong>0.19</strong></td><td align=center><strong>0.18</strong></td><td align=center><strong>0.18</strong></td><td align=center><strong>0.19</strong></td></tr><tr><td align=center>1000</td><td align=center>0.440</td><td align=center>0.42</td><td align=center>0.44</td><td align=center>0.44</td><td align=center>0.43</td><td align=center>0.47</td></tr><tr><td align=center>10000</td><td align=center>3.186</td><td align=center>3.31</td><td align=center>3.07</td><td align=center>3.27</td><td align=center>3.05</td><td align=center>3.23</td></tr></tbody></table><p>This optimisation (threshold <code>M=100</code>) shaves off <code>0.206 - 0.186 = 0.020s</code> of execution time.</p><h1 id=appendix>Appendix</h1><p><img src=Snipaste_2019-01-28_20-02-34.png alt></p><hr><p><img src=Snipaste_2019-01-28_19-55-08.png alt></p><hr><p><img src=Snipaste_2019-01-28_19-55-41.png alt></p><hr><p><img src=Snipaste_2019-01-28_19-56-05.png alt></p></div><footer class=post-footer><nav class=post-nav><a class=prev href=../../post/lec13/><i class="iconfont icon-left"></i><span class="prev-text nav-default">Lecture 13 - Splay Trees, 2-3-4 Trees, Redblack Trees</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=../../post/lec14/><span class="next-text nav-default">Lecture 14 - Hashing</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article><script>(function(f,a,t,h,o,m){a[h]=a[h]||function(){(a[h].q=a[h].q||[]).push(arguments)};o=f.createElement('script'),m=f.getElementsByTagName('script')[0];o.async=1;o.src=t;o.id='fathom-script';m.parentNode.insertBefore(o,m)})(document,window,'//ss.featherbear.cc/tracker.js','fathom');fathom('set','siteId','NEQTU');fathom('trackPageview');</script></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:z5206677@student.unsw.edu.au class="iconfont icon-email" title=email></a><a href=https://www.linkedin.com/in/andrewjinmengwong/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://github.com/featherbear class="iconfont icon-github" title=github></a><a href=https://www.instagram.com/_andrewjwong/ class="iconfont icon-instagram" title=instagram></a><a href=../../index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2018 -
2021
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>Andrew Wong (z5206677)</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=../../dist/even.ece58db6.min.js></script></body></html>